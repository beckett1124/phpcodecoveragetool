<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <title>Spike PHPCoverage Details: app.php</title> 
    <link href="../../../..//css/spikesource.css" rel="stylesheet" type="text/css"/>
  </head>
  <body>
    <div id="pageBox" >

      <table border="0" cellpadding="2" cellspacing="0" id="contentBox" width="100%">
        <tr>
          <td align="left" valign="top"><h1>Spike PHPCoverage Details: app.php</h1>
          </td>
        </tr>
        <tr>
          <td>

<table width="100%" border="0" cellpadding="2" cellspacing="0"><td width="10%"class="coverageDetailsHead" >Line #</td><td width="10%" class="coverageDetailsHead">Frequency</td><td  width="80%" class="coverageDetailsHead">Source Line</td><tr><td class="coverageDetails"><span>1</span></td><td class="coverageDetails"><span>&nbsp;</span></td><td class="coverageDetailsCode"><code><span>&lt;?php</span></code></td></tr><tr><td class="coverageDetails"><span class="codeMissed">2</span></td><td class="coverageDetails"><span class="codeMissed">&nbsp;</span></td><td class="coverageDetailsCode"><code><span class="codeMissed">xdebug_start_code_coverage();</span></code></td></tr><tr><td class="coverageDetails"><span>3</span></td><td class="coverageDetails"><span>&nbsp;</span></td><td class="coverageDetailsCode"><code><span>require_once(realpath(dirname(__FILE__)&nbsp;.&nbsp;'/../app/lib/application.php'));</span></code></td></tr><tr><td class="coverageDetails"><span>4</span></td><td class="coverageDetails"><span>&nbsp;</span></td><td class="coverageDetailsCode"><code><span></span></code></td></tr><tr><td class="coverageDetails"><span>5</span></td><td class="coverageDetails"><span>&nbsp;</span></td><td class="coverageDetailsCode"><code><span>//print_r(xdebug_get_code_coverage());</span></code></td></tr><tr><td class="coverageDetails"><span class="codeExecuted">6</span></td><td class="coverageDetails"><span class="codeExecuted">1</span></td><td class="coverageDetailsCode"><code><span class="codeExecuted">$result&nbsp;=&nbsp;xdebug_get_code_coverage();</span></code></td></tr><tr><td class="coverageDetails"><span>7</span></td><td class="coverageDetails"><span>&nbsp;</span></td><td class="coverageDetailsCode"><code><span>//print_r($result);</span></code></td></tr><tr><td class="coverageDetails"><span class="codeExecuted">8</span></td><td class="coverageDetails"><span class="codeExecuted">1</span></td><td class="coverageDetailsCode"><code><span class="codeExecuted">register_shutdown_function('coverageLog',&nbsp;$result);</span></code></td></tr><tr><td class="coverageDetails"><span class="codeExecuted">9</span></td><td class="coverageDetails"><span class="codeExecuted">1</span></td><td class="coverageDetailsCode"><code><span class="codeExecuted">xdebug_stop_code_coverage();</span></code></td></tr><tr><td class="coverageDetails"><span>10</span></td><td class="coverageDetails"><span>&nbsp;</span></td><td class="coverageDetailsCode"><code><span></span></code></td></tr><tr><td class="coverageDetails"><span>11</span></td><td class="coverageDetails"><span>&nbsp;</span></td><td class="coverageDetailsCode"><code><span>function&nbsp;coverageLog($result&nbsp;=&nbsp;NULL){</span></code></td></tr><tr><td class="coverageDetails"><span class="codeExecuted">12</span></td><td class="coverageDetails"><span class="codeExecuted">1</span></td><td class="coverageDetailsCode"><code><span class="codeExecuted">&nbsp;&nbsp;&nbsp;&nbsp;if(empty($result)){</span></code></td></tr><tr><td class="coverageDetails"><span class="codeExecuted">13</span></td><td class="coverageDetails"><span class="codeExecuted">1</span></td><td class="coverageDetailsCode"><code><span class="codeExecuted">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$result&nbsp;=&nbsp;$result&nbsp;=&nbsp;xdebug_get_code_coverage();</span></code></td></tr><tr><td class="coverageDetails"><span>14</span></td><td class="coverageDetails"><span>&nbsp;</span></td><td class="coverageDetailsCode"><code><span>&nbsp;&nbsp;&nbsp;&nbsp;}</span></code></td></tr><tr><td class="coverageDetails"><span class="codeExecuted">15</span></td><td class="coverageDetails"><span class="codeExecuted">1</span></td><td class="coverageDetailsCode"><code><span class="codeExecuted">&nbsp;&nbsp;&nbsp;&nbsp;$xmlString&nbsp;=&nbsp;&quot;&quot;;</span></code></td></tr><tr><td class="coverageDetails"><span class="codeExecuted">16</span></td><td class="coverageDetails"><span class="codeExecuted">1</span></td><td class="coverageDetailsCode"><code><span class="codeExecuted">&nbsp;&nbsp;&nbsp;&nbsp;$xmlBody&nbsp;=&nbsp;&quot;&quot;;</span></code></td></tr><tr><td class="coverageDetails"><span class="codeExecuted">17</span></td><td class="coverageDetails"><span class="codeExecuted">1</span></td><td class="coverageDetailsCode"><code><span class="codeExecuted">&nbsp;&nbsp;&nbsp;&nbsp;if(!empty($result))&nbsp;{</span></code></td></tr><tr><td class="coverageDetails"><span class="codeExecuted">18</span></td><td class="coverageDetails"><span class="codeExecuted">1</span></td><td class="coverageDetailsCode"><code><span class="codeExecuted">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach($result&nbsp;as&nbsp;$file&nbsp;=&gt;&nbsp;&amp;$lines)&nbsp;{</span></code></td></tr><tr><td class="coverageDetails"><span class="codeExecuted">19</span></td><td class="coverageDetails"><span class="codeExecuted">1</span></td><td class="coverageDetailsCode"><code><span class="codeExecuted">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$xmlBody&nbsp;.=&nbsp;&quot;&lt;file&nbsp;path=\&quot;&quot;.$file&nbsp;.&nbsp;&quot;\&quot;&gt;&quot;;</span></code></td></tr><tr><td class="coverageDetails"><span class="codeExecuted">20</span></td><td class="coverageDetails"><span class="codeExecuted">1</span></td><td class="coverageDetailsCode"><code><span class="codeExecuted">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach($lines&nbsp;as&nbsp;$linenum&nbsp;=&gt;&nbsp;&amp;$frequency)&nbsp;{</span></code></td></tr><tr><td class="coverageDetails"><span class="codeExecuted">21</span></td><td class="coverageDetails"><span class="codeExecuted">1</span></td><td class="coverageDetailsCode"><code><span class="codeExecuted">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$xmlBody&nbsp;.=&nbsp;&quot;&lt;line&nbsp;line-number=\&quot;&quot;&nbsp;.&nbsp;$linenum&nbsp;.&nbsp;&quot;\&quot;&quot;;</span></code></td></tr><tr><td class="coverageDetails"><span class="codeExecuted">22</span></td><td class="coverageDetails"><span class="codeExecuted">1</span></td><td class="coverageDetailsCode"><code><span class="codeExecuted">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$xmlBody&nbsp;.=&nbsp;&quot;&nbsp;frequency=\&quot;&quot;&nbsp;.&nbsp;$frequency&nbsp;.&nbsp;&quot;\&quot;/&gt;&quot;;</span></code></td></tr><tr><td class="coverageDetails"><span>23</span></td><td class="coverageDetails"><span>&nbsp;</span></td><td class="coverageDetailsCode"><code><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></code></td></tr><tr><td class="coverageDetails"><span class="codeExecuted">24</span></td><td class="coverageDetails"><span class="codeExecuted">1</span></td><td class="coverageDetailsCode"><code><span class="codeExecuted">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$xmlBody&nbsp;.=&nbsp;&quot;&lt;/file&gt;\n&quot;;</span></code></td></tr><tr><td class="coverageDetails"><span>25</span></td><td class="coverageDetails"><span>&nbsp;</span></td><td class="coverageDetailsCode"><code><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></code></td></tr><tr><td class="coverageDetails"><span>26</span></td><td class="coverageDetails"><span>&nbsp;</span></td><td class="coverageDetailsCode"><code><span>&nbsp;&nbsp;&nbsp;&nbsp;}</span></code></td></tr><tr><td class="coverageDetails"><span>27</span></td><td class="coverageDetails"><span>&nbsp;</span></td><td class="coverageDetailsCode"><code><span></span></code></td></tr><tr><td class="coverageDetails"><span>28</span></td><td class="coverageDetails"><span>&nbsp;</span></td><td class="coverageDetailsCode"><code><span></span></code></td></tr><tr><td class="coverageDetails"><span class="codeMissed">29</span></td><td class="coverageDetails"><span class="codeMissed">&nbsp;</span></td><td class="coverageDetailsCode"><code><span class="codeMissed">&nbsp;&nbsp;&nbsp;&nbsp;$rand&nbsp;=&nbsp;rand();</span></code></td></tr><tr><td class="coverageDetails"><span class="codeMissed">30</span></td><td class="coverageDetails"><span class="codeMissed">&nbsp;</span></td><td class="coverageDetailsCode"><code><span class="codeMissed">&nbsp;&nbsp;&nbsp;&nbsp;$uri&nbsp;=&nbsp;$_SERVER['REQUEST_URI'];</span></code></td></tr><tr><td class="coverageDetails"><span class="codeMissed">31</span></td><td class="coverageDetails"><span class="codeMissed">&nbsp;</span></td><td class="coverageDetailsCode"><code><span class="codeMissed">&nbsp;&nbsp;&nbsp;&nbsp;$uri&nbsp;=&nbsp;trim($uri,&nbsp;&quot;/&quot;);</span></code></td></tr><tr><td class="coverageDetails"><span class="codeMissed">32</span></td><td class="coverageDetails"><span class="codeMissed">&nbsp;</span></td><td class="coverageDetailsCode"><code><span class="codeMissed">&nbsp;&nbsp;&nbsp;&nbsp;$uri&nbsp;=&nbsp;str_replace(array(&quot;/&quot;,&nbsp;&quot;?&quot;,&nbsp;&quot;&amp;&quot;),&nbsp;&quot;_&quot;,&nbsp;$uri);</span></code></td></tr><tr><td class="coverageDetails"><span>33</span></td><td class="coverageDetails"><span>&nbsp;</span></td><td class="coverageDetailsCode"><code><span>&nbsp;&nbsp;&nbsp;&nbsp;//echo&nbsp;&quot;\n&quot;.$uri;</span></code></td></tr><tr><td class="coverageDetails"><span class="codeMissed">34</span></td><td class="coverageDetails"><span class="codeMissed">&nbsp;</span></td><td class="coverageDetailsCode"><code><span class="codeMissed">&nbsp;&nbsp;&nbsp;&nbsp;$file_name&nbsp;=&nbsp;$uri.&quot;_$rand&quot;;</span></code></td></tr><tr><td class="coverageDetails"><span>35</span></td><td class="coverageDetails"><span>&nbsp;</span></td><td class="coverageDetailsCode"><code><span>&nbsp;&nbsp;&nbsp;&nbsp;//echo&nbsp;&quot;\n&quot;.$file_name;</span></code></td></tr><tr><td class="coverageDetails"><span class="codeMissed">36</span></td><td class="coverageDetails"><span class="codeMissed">&nbsp;</span></td><td class="coverageDetailsCode"><code><span class="codeMissed">&nbsp;&nbsp;&nbsp;&nbsp;$xmlBody&nbsp;=&nbsp;'&lt;?xml&nbsp;version=&quot;1.0&quot;&nbsp;encoding=&quot;utf-8&quot;&nbsp;?&gt;&lt;spike-phpcoverage&gt;'.&quot;\n&quot;&nbsp;.&nbsp;$xmlBody.'&lt;/spike-phpcoverage&gt;';</span></code></td></tr><tr><td class="coverageDetails"><span class="codeMissed">37</span></td><td class="coverageDetails"><span class="codeMissed">&nbsp;</span></td><td class="coverageDetailsCode"><code><span class="codeMissed">&nbsp;&nbsp;&nbsp;&nbsp;file_put_contents(dirname(__FILE__).&quot;/phpcc_xml/&quot;.$file_name.&quot;.xml&quot;,&nbsp;$xmlBody);</span></code></td></tr><tr><td class="coverageDetails"><span>38</span></td><td class="coverageDetails"><span>&nbsp;</span></td><td class="coverageDetailsCode"><code><span>}</span></code></td></tr><tr><td class="coverageDetails"><span>39</span></td><td class="coverageDetails"><span>&nbsp;</span></td><td class="coverageDetailsCode"><code><span></span></code></td></tr><tr><td class="coverageDetails"><span>40</span></td><td class="coverageDetails"><span>&nbsp;</span></td><td class="coverageDetailsCode"><code><span></span></code></td></tr><tr><td class="coverageDetails"><span>41</span></td><td class="coverageDetails"><span>&nbsp;</span></td><td class="coverageDetailsCode"><code><span>?&gt;</span></code></td></tr></table></td></tr>
  </table>

    </div>
  </body>
</html>
