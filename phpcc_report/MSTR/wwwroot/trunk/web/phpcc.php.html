<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <title>Spike PHPCoverage Details: phpcc.php</title> 
    <link href="../../../..//css/spikesource.css" rel="stylesheet" type="text/css"/>
  </head>
  <body>
    <div id="pageBox" >

      <table border="0" cellpadding="2" cellspacing="0" id="contentBox" width="100%">
        <tr>
          <td align="left" valign="top"><h1>Spike PHPCoverage Details: phpcc.php</h1>
          </td>
        </tr>
        <tr>
          <td>

<table width="100%" border="0" cellpadding="2" cellspacing="0"><td width="10%"class="coverageDetailsHead" >Line #</td><td width="10%" class="coverageDetailsHead">Frequency</td><td  width="80%" class="coverageDetailsHead">Source Line</td><tr><td class="coverageDetails"><span>1</span></td><td class="coverageDetails"><span>&nbsp;</span></td><td class="coverageDetailsCode"><code><span>&lt;?php</span></code></td></tr><tr><td class="coverageDetails"><span>2</span></td><td class="coverageDetails"><span>&nbsp;</span></td><td class="coverageDetailsCode"><code><span>//define(&quot;PHPCOVERAGE_HOME&quot;,&nbsp;dirname(__FILE__));</span></code></td></tr><tr><td class="coverageDetails"><span class="codeMissed">3</span></td><td class="coverageDetails"><span class="codeMissed">&nbsp;</span></td><td class="coverageDetailsCode"><code><span class="codeMissed">define(&quot;PHPCOVERAGE_HOME&quot;,&nbsp;dirname(__FILE__).&quot;/phpcc_src&quot;);</span></code></td></tr><tr><td class="coverageDetails"><span class="codeMissed">4</span></td><td class="coverageDetails"><span class="codeMissed">&nbsp;</span></td><td class="coverageDetailsCode"><code><span class="codeMissed">define(&quot;PHPCOVERAGE_REPORT_DIR&quot;,&nbsp;dirname(__FILE__).&quot;/phpcc_report&quot;);</span></code></td></tr><tr><td class="coverageDetails"><span class="codeMissed">5</span></td><td class="coverageDetails"><span class="codeMissed">&nbsp;</span></td><td class="coverageDetailsCode"><code><span class="codeMissed">define(&quot;PHPCOVERAGE_APPBASE_PATH&quot;,&nbsp;realpath(&quot;../&quot;));</span></code></td></tr><tr><td class="coverageDetails"><span>6</span></td><td class="coverageDetails"><span>&nbsp;</span></td><td class="coverageDetailsCode"><code><span>//define(&quot;PHPCOVERAGE_APPBASE_PATH&quot;,&nbsp;&quot;../&quot;);</span></code></td></tr><tr><td class="coverageDetails"><span class="codeMissed">7</span></td><td class="coverageDetails"><span class="codeMissed">&nbsp;</span></td><td class="coverageDetailsCode"><code><span class="codeMissed">define(&quot;XML_HOME&quot;,&nbsp;dirname(__FILE__).&quot;/phpcc_xml&quot;);</span></code></td></tr><tr><td class="coverageDetails"><span>8</span></td><td class="coverageDetails"><span>&nbsp;</span></td><td class="coverageDetailsCode"><code><span>require_once&nbsp;&nbsp;PHPCOVERAGE_HOME.&quot;/remote/RemoteCoverageRecorder.php&quot;;</span></code></td></tr><tr><td class="coverageDetails"><span>9</span></td><td class="coverageDetails"><span>&nbsp;</span></td><td class="coverageDetailsCode"><code><span>require_once&nbsp;&nbsp;PHPCOVERAGE_HOME.&quot;/reporter/HtmlCoverageReporter.php&quot;;</span></code></td></tr><tr><td class="coverageDetails"><span class="codeMissed">10</span></td><td class="coverageDetails"><span class="codeMissed">&nbsp;</span></td><td class="coverageDetailsCode"><code><span class="codeMissed">echo&nbsp;PHPCOVERAGE_APPBASE_PATH.&quot;&lt;/br&gt;&quot;;</span></code></td></tr><tr><td class="coverageDetails"><span>11</span></td><td class="coverageDetails"><span>&nbsp;</span></td><td class="coverageDetailsCode"><code><span>&nbsp;</span></code></td></tr><tr><td class="coverageDetails"><span class="codeMissed">12</span></td><td class="coverageDetails"><span class="codeMissed">&nbsp;</span></td><td class="coverageDetailsCode"><code><span class="codeMissed">$target&nbsp;=&nbsp;&quot;*.xml&quot;;</span></code></td></tr><tr><td class="coverageDetails"><span class="codeMissed">13</span></td><td class="coverageDetails"><span class="codeMissed">&nbsp;</span></td><td class="coverageDetailsCode"><code><span class="codeMissed">if(!empty($_REQUEST['target'])){</span></code></td></tr><tr><td class="coverageDetails"><span class="codeMissed">14</span></td><td class="coverageDetails"><span class="codeMissed">&nbsp;</span></td><td class="coverageDetailsCode"><code><span class="codeMissed">&nbsp;&nbsp;&nbsp;&nbsp;$target&nbsp;=&nbsp;$_REQUEST['target'];</span></code></td></tr><tr><td class="coverageDetails"><span class="codeMissed">15</span></td><td class="coverageDetails"><span class="codeMissed">&nbsp;</span></td><td class="coverageDetailsCode"><code><span class="codeMissed">&nbsp;&nbsp;&nbsp;&nbsp;$target&nbsp;=&nbsp;trim($target,&nbsp;&quot;/&quot;);</span></code></td></tr><tr><td class="coverageDetails"><span class="codeMissed">16</span></td><td class="coverageDetails"><span class="codeMissed">&nbsp;</span></td><td class="coverageDetailsCode"><code><span class="codeMissed">&nbsp;&nbsp;&nbsp;&nbsp;$target&nbsp;=&nbsp;str_replace(array(&quot;/&quot;,&nbsp;&quot;?&quot;,&nbsp;&quot;&amp;&quot;),&nbsp;&quot;_&quot;,&nbsp;$target).&quot;*.xml&quot;;</span></code></td></tr><tr><td class="coverageDetails"><span>17</span></td><td class="coverageDetails"><span>&nbsp;</span></td><td class="coverageDetailsCode"><code><span>}</span></code></td></tr><tr><td class="coverageDetails"><span class="codeMissed">18</span></td><td class="coverageDetails"><span class="codeMissed">&nbsp;</span></td><td class="coverageDetailsCode"><code><span class="codeMissed">$target&nbsp;=&nbsp;XML_HOME&nbsp;.&nbsp;&quot;/$target&quot;;</span></code></td></tr><tr><td class="coverageDetails"><span class="codeMissed">19</span></td><td class="coverageDetails"><span class="codeMissed">&nbsp;</span></td><td class="coverageDetailsCode"><code><span class="codeMissed">echo&nbsp;&quot;&lt;/br&gt;target&nbsp;is:&quot;.$target.&quot;&lt;/br&gt;&lt;/br&gt;&quot;;</span></code></td></tr><tr><td class="coverageDetails"><span class="codeMissed">20</span></td><td class="coverageDetails"><span class="codeMissed">&nbsp;</span></td><td class="coverageDetailsCode"><code><span class="codeMissed">$all_xml_files&nbsp;=&nbsp;glob($target);</span></code></td></tr><tr><td class="coverageDetails"><span>21</span></td><td class="coverageDetails"><span>&nbsp;</span></td><td class="coverageDetailsCode"><code><span>//&nbsp;echo&nbsp;&quot;XML&nbsp;file&nbsp;list:&lt;/br&gt;&quot;;</span></code></td></tr><tr><td class="coverageDetails"><span>22</span></td><td class="coverageDetails"><span>&nbsp;</span></td><td class="coverageDetailsCode"><code><span>//print_r($all_xml_files);</span></code></td></tr><tr><td class="coverageDetails"><span>23</span></td><td class="coverageDetails"><span>&nbsp;</span></td><td class="coverageDetailsCode"><code><span>//&nbsp;Configure&nbsp;reporter,&nbsp;and&nbsp;generate&nbsp;report</span></code></td></tr><tr><td class="coverageDetails"><span class="codeMissed">24</span></td><td class="coverageDetails"><span class="codeMissed">&nbsp;</span></td><td class="coverageDetailsCode"><code><span class="codeMissed">$covReporter&nbsp;=&nbsp;new&nbsp;HtmlCoverageReporter(</span></code></td></tr><tr><td class="coverageDetails"><span class="codeMissed">+25</span></td><td class="coverageDetails"><span class="codeMissed">&nbsp;</span></td><td class="coverageDetailsCode"><code><span class="codeMissed">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;Sample&nbsp;Web&nbsp;Test&nbsp;Code&nbsp;Coverage&quot;,&nbsp;&quot;&quot;,&nbsp;PHPCOVERAGE_REPORT_DIR);</span></code></td></tr><tr><td class="coverageDetails"><span class="codeMissed">26</span></td><td class="coverageDetails"><span class="codeMissed">&nbsp;</span></td><td class="coverageDetailsCode"><code><span class="codeMissed">echo&nbsp;&quot;1&lt;br&gt;&quot;;</span></code></td></tr><tr><td class="coverageDetails"><span class="codeMissed">27</span></td><td class="coverageDetails"><span class="codeMissed">&nbsp;</span></td><td class="coverageDetailsCode"><code><span class="codeMissed">$excludePaths&nbsp;=&nbsp;array();</span></code></td></tr><tr><td class="coverageDetails"><span>28</span></td><td class="coverageDetails"><span>&nbsp;</span></td><td class="coverageDetailsCode"><code><span>//&nbsp;Set&nbsp;the&nbsp;include&nbsp;path&nbsp;for&nbsp;the&nbsp;web-app</span></code></td></tr><tr><td class="coverageDetails"><span>29</span></td><td class="coverageDetails"><span>&nbsp;</span></td><td class="coverageDetailsCode"><code><span>//&nbsp;PHPCOVERAGE_APPBASE_PATH&nbsp;is&nbsp;passed&nbsp;on&nbsp;the&nbsp;commandline</span></code></td></tr><tr><td class="coverageDetails"><span class="codeMissed">30</span></td><td class="coverageDetails"><span class="codeMissed">&nbsp;</span></td><td class="coverageDetailsCode"><code><span class="codeMissed">$includePaths&nbsp;=&nbsp;array(realpath(PHPCOVERAGE_APPBASE_PATH));</span></code></td></tr><tr><td class="coverageDetails"><span>31</span></td><td class="coverageDetails"><span>&nbsp;</span></td><td class="coverageDetailsCode"><code><span></span></code></td></tr><tr><td class="coverageDetails"><span>32</span></td><td class="coverageDetails"><span>&nbsp;</span></td><td class="coverageDetailsCode"><code><span>//&nbsp;Notice&nbsp;the&nbsp;coverage&nbsp;recorder&nbsp;is&nbsp;of&nbsp;type&nbsp;RemoteCoverageRecorder</span></code></td></tr><tr><td class="coverageDetails"><span class="codeMissed">33</span></td><td class="coverageDetails"><span class="codeMissed">&nbsp;</span></td><td class="coverageDetailsCode"><code><span class="codeMissed">$cov&nbsp;=&nbsp;new&nbsp;RemoteCoverageRecorder($includePaths,&nbsp;$excludePaths,&nbsp;$covReporter);</span></code></td></tr><tr><td class="coverageDetails"><span>34</span></td><td class="coverageDetails"><span>&nbsp;</span></td><td class="coverageDetailsCode"><code><span>//&nbsp;Pass&nbsp;the&nbsp;code&nbsp;coverage&nbsp;XML&nbsp;url&nbsp;into&nbsp;the&nbsp;generateReport&nbsp;function</span></code></td></tr><tr><td class="coverageDetails"><span>35</span></td><td class="coverageDetails"><span>&nbsp;</span></td><td class="coverageDetailsCode"><code><span>//$cov-&gt;generateReport($cov_url&nbsp;.&nbsp;&quot;?phpcoverage-action=get-coverage-xml&quot;,&nbsp;true);</span></code></td></tr><tr><td class="coverageDetails"><span class="codeMissed">36</span></td><td class="coverageDetails"><span class="codeMissed">&nbsp;</span></td><td class="coverageDetailsCode"><code><span class="codeMissed">echo&nbsp;&quot;2&lt;br&gt;&quot;;</span></code></td></tr><tr><td class="coverageDetails"><span class="codeMissed">37</span></td><td class="coverageDetails"><span class="codeMissed">&nbsp;</span></td><td class="coverageDetailsCode"><code><span class="codeMissed">$cov-&gt;generateReport($all_xml_files,&nbsp;false);</span></code></td></tr><tr><td class="coverageDetails"><span class="codeMissed">38</span></td><td class="coverageDetails"><span class="codeMissed">&nbsp;</span></td><td class="coverageDetailsCode"><code><span class="codeMissed">echo&nbsp;&quot;3&lt;br&gt;&quot;;</span></code></td></tr><tr><td class="coverageDetails"><span>39</span></td><td class="coverageDetails"><span>&nbsp;</span></td><td class="coverageDetailsCode"><code><span>//$covReporter-&gt;printTextSummary(PHPCOVERAGE_REPORT_DIR&nbsp;.&nbsp;&quot;report.txt&quot;);</span></code></td></tr><tr><td class="coverageDetails"><span>40</span></td><td class="coverageDetails"><span>&nbsp;</span></td><td class="coverageDetailsCode"><code><span>//&nbsp;Clean&nbsp;up</span></code></td></tr><tr><td class="coverageDetails"><span>41</span></td><td class="coverageDetails"><span>&nbsp;</span></td><td class="coverageDetailsCode"><code><span>//&nbsp;file_get_contents($cov_url&nbsp;.&nbsp;&quot;?phpcoverage-action=cleanup&quot;);</span></code></td></tr><tr><td class="coverageDetails"><span class="codeMissed">42</span></td><td class="coverageDetails"><span class="codeMissed">&nbsp;</span></td><td class="coverageDetailsCode"><code><span class="codeMissed">$url&nbsp;=&nbsp;&quot;&quot;;</span></code></td></tr><tr><td class="coverageDetails"><span class="codeMissed">43</span></td><td class="coverageDetails"><span class="codeMissed">&nbsp;</span></td><td class="coverageDetailsCode"><code><span class="codeMissed">if(isset($_SERVER['HTTPS']))&nbsp;{</span></code></td></tr><tr><td class="coverageDetails"><span class="codeMissed">44</span></td><td class="coverageDetails"><span class="codeMissed">&nbsp;</span></td><td class="coverageDetailsCode"><code><span class="codeMissed">&nbsp;&nbsp;&nbsp;&nbsp;$url&nbsp;=&nbsp;&quot;https://&quot;.$_SERVER[&quot;HTTP_HOST&quot;].&quot;/phpcc_report/index.html&quot;;</span></code></td></tr><tr><td class="coverageDetails"><span>45</span></td><td class="coverageDetails"><span>&nbsp;</span></td><td class="coverageDetailsCode"><code><span>}&nbsp;else&nbsp;{</span></code></td></tr><tr><td class="coverageDetails"><span class="codeMissed">46</span></td><td class="coverageDetails"><span class="codeMissed">&nbsp;</span></td><td class="coverageDetailsCode"><code><span class="codeMissed">&nbsp;&nbsp;&nbsp;&nbsp;$url&nbsp;=&nbsp;&quot;http://&quot;.$_SERVER[&quot;HTTP_HOST&quot;].&quot;/phpcc_report/index.html&quot;;</span></code></td></tr><tr><td class="coverageDetails"><span>47</span></td><td class="coverageDetails"><span>&nbsp;</span></td><td class="coverageDetailsCode"><code><span>}</span></code></td></tr><tr><td class="coverageDetails"><span class="codeMissed">48</span></td><td class="coverageDetails"><span class="codeMissed">&nbsp;</span></td><td class="coverageDetailsCode"><code><span class="codeMissed">echo&nbsp;&quot;please&nbsp;go&nbsp;for&nbsp;&lt;a&nbsp;href=\&quot;$url\&quot;&gt;$url&lt;/a&gt;&nbsp;to&nbsp;check&nbsp;the&nbsp;code&nbsp;coverage&nbsp;report&lt;/br&gt;&quot;;</span></code></td></tr><tr><td class="coverageDetails"><span class="codeMissed">49</span></td><td class="coverageDetails"><span class="codeMissed">&nbsp;</span></td><td class="coverageDetailsCode"><code><span class="codeMissed">echo&nbsp;&quot;XML&nbsp;file&nbsp;list:&lt;/br&gt;&quot;;</span></code></td></tr><tr><td class="coverageDetails"><span class="codeMissed">50</span></td><td class="coverageDetails"><span class="codeMissed">&nbsp;</span></td><td class="coverageDetailsCode"><code><span class="codeMissed">print_r($all_xml_files);</span></code></td></tr><tr><td class="coverageDetails"><span>51</span></td><td class="coverageDetails"><span>&nbsp;</span></td><td class="coverageDetailsCode"><code><span></span></code></td></tr><tr><td class="coverageDetails"><span>52</span></td><td class="coverageDetails"><span>&nbsp;</span></td><td class="coverageDetailsCode"><code><span>?&gt;</span></code></td></tr></table></td></tr>
  </table>

    </div>
  </body>
</html>
